(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{282:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);var a,r,c,s,i,o=n(0),l=n.n(o),d=n(21),u=n.n(d),j=n(11),h=n(16),b=n(17),m=n.n(b),f=n(28),p=n(8),O=function(e){return function(t){t({type:"path/setPath",path:e})}},g=function(e){return function(t){t({type:"path/setComponent",component:e})}},x=function(e){return function(t){t({type:"path/setIsForbidden",isForbidden:e})}},v=function(e){return function(t){t({type:"path/setIsNotFound",isNotFound:e})}},y=function(e){return function(t){t({type:"path/setIsSameComponent",isSameComponent:e})}},N=n(289),w=n(299),k=n(294),C=n(149),F=n(108),S=n.n(F),L="https://welder-client-rdport.onrender.com/login";function I(e){var t=e.accessToken,n=e.adminClassName,i=e.adminFullName;a=t,r=n,c=i,s=!0,window.addEventListener("storage",V)}function E(){return a}function R(){return r}function P(){return T.apply(this,arguments)}function T(){return(T=Object(f.a)(m.a.mark((function e(){var t,n,a,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("/admins/refresh-token",{});case 3:return t=e.sent,n=t.data,a=n.accessToken,r=n.class,c=n.fullName,I({accessToken:a,adminClassName:r,adminFullName:c}),e.abrupt("return",Promise.resolve(s));case 12:return e.prev=12,e.t0=e.catch(0),s=!1,e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function D(){return B.apply(this,arguments)}function B(){return(B=Object(f.a)(m.a.mark((function e(){var t,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=E(),e.next=4,q.post("/admins/logout",{},{headers:{access_token:t}});case 4:return n=e.sent,a=n.data,window.localStorage.setItem("logout",Date.now()),H(),e.abrupt("return",Promise.resolve(a));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function A(){return M.apply(this,arguments)}function M(){return(M=Object(f.a)(m.a.mark((function e(){var t,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=E(),e.next=4,q.post("/admins/logout-all",{},{headers:{access_token:t}});case 4:return n=e.sent,a=n.data,window.localStorage.setItem("logout",Date.now()),H(),e.abrupt("return",Promise.resolve(a));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function V(e){"logout"===e.key&&(window.location.href=L,console.log("user logged out on another tab\nlogged out on all tabs"))}function H(){s=!1,a=null,r=null,window.removeEventListener("storage",V)}var _=S.a.create({baseURL:"https://welder-server-rdport.onrender.com",withCredentials:!0});window.localStorage.getItem("logout")||_.interceptors.response.use((function(e){return e}),(function(e){var t=e.config,n=localStorage.getItem("retry");if(e.response){if(401===e.response.status&&"/admins/refresh-token"===t.url&&!n)return"/login"!==i&&(window.location.href=L),window.localStorage.setItem("retry",!0),Promise.reject(e);if(window.localStorage.removeItem("retry"),n=window.localStorage.getItem("retry"),401===e.response.status&&"/admins/login"!==t.url&&"/admins/refresh-token"!==t.url&&!n)return P().then((function(e){return t.headers.access_token=E(),S()(t)})).catch((function(e){return Promise.reject(e)}))}return Promise.reject(e)})),window.localStorage.getItem("logout")&&window.localStorage.removeItem("logout");var q=_,z=function(e){return function(t){t({type:"auth/setAuthLoading",authLoading:e})}},U=function(e){return function(t){t({type:"auth/setIsAuthenticatedRedux",isAuthenticatedRedux:e})}},K=function(e){return function(t){t({type:"auth/setAuthError",authError:e})}};var W=function(){var e=Object(o.useState)(s),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(j.c)(),c=Object(h.f)(),i=Object(h.g)().path;return Object(o.useEffect)((function(){n||window.localStorage.getItem("logout")||(r(z(!0)),P().then((function(e){a(e),r(U(!0)),r(K(null))})).catch((function(e){var t=e.response?e.response.data.message:e.message;r(K(t)),"/login"!==i&&c.push("/login")})).finally((function(e){return r(z(!1))})))}),[]),n},J=n(61),Y=n.n(J),G=function(e,t,n){Y.a.mixin({customClass:{confirmButton:"btn btn-primary btn-lg"},buttonsStyling:!1}).fire(e,t,n)},Q=function(e,t){Y.a.fire({toast:!0,icon:t,title:e,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},position:"top",showConfirmButton:!1,timer:3e3,timerProgressBar:!1,didOpen:function(e){e.addEventListener("mouseenter",Y.a.stopTimer),e.addEventListener("mouseleave",Y.a.resumeTimer)}})},$=[{property:"email",validationChains:["string","email","required"]},{property:"password",validationChains:["string","required"]}],X=[{name:"account-transactions",restricted:!0},{name:"accounts",restricted:!1},{name:"admins",restricted:!0},{name:"assignments",restricted:!1},{name:"customers",restricted:!1,hasDetailPage:!0,structureData:[{property:"residentId",tag:"input",type:"text",validationChains:["string","trim"],lgI:5,lgF:4},{property:"firstName",tag:"input",type:"text",validationChains:["string","required","trim"],lgF:4},{property:"lastName",tag:"input",type:"text",validationChains:["string","trim"],lgF:4},{property:"name",bg:"warning",text:"black",link:"customers",textPosition:"left",firstNamePath:"firstName",lastNamePath:"lastName",xsL:12,smL:5,mdL:4,lgL:4,xlL:4,lgI:7},{property:"address",tag:"input",type:"text",textPosition:"left",validationChains:["string","trim"],xsL:12,smL:7,mdL:7,lgL:7,xlL:7,lgI:9,lgF:12},{property:"phone",tag:"input",type:"text",validationChains:["string","trim"],lgI:3,lgF:4},{property:"email",tag:"input",type:"email",validationChains:["string","trim"],lgI:6,lgF:8},{property:"createdAt",dateTime:!0,lgI:3},{property:"updatedAt",dateTime:!0,lgI:3}]},{name:"datebooks",restricted:!1},{name:"divisions",restricted:!0},{name:"employees",restricted:!0},{name:"general-transactions",restricted:!1},{name:"internal-transactions",restricted:!0},{name:"material-purchases",restricted:!1,rearrangeable:!0,structureData:[{property:"MaterialId",withId:!1,key:"material_name",tag:"select",endPoint:"/materials/options",optionValueProperty:"id",validationChains:["number","integer","positive","required"],bg:"warning",text:"black",textPosition:"left",autoFocusF:!0,xsL:12,smL:12,mdL:6,lgL:5,xlL:4,lgI:6,lgF:6},{property:"size",tag:"select",endPoint:"/sizes/options",dependency:"MaterialId",association:"SizeCategoryId",validationChains:["string","required","trim"],xsL:12,smL:3,mdL:3,lgL:2,xlL:2,lgI:3,lgF:3},{property:"correctedSize",tag:"input",type:"text",validationChains:["string"],xsL:12,smL:3,mdL:3,lgL:2,xlL:2,lgI:3,lgF:3},{property:"thickness",tag:"input",type:"text",validationChains:["string"],xsL:12,smL:3,mdL:2,lgL:2,xlL:1,lgI:3,lgF:3},{property:"correctedThickness",tag:"input",type:"text",validationChains:["string"],xsL:12,smL:3,mdL:2,lgL:2,xlL:1,lgI:3,lgF:3},{property:"unitPrice",currency:!0,tag:"input",type:"number",validationChains:["number","required",{name:"min",args:0}],xsL:12,smL:4,mdL:3,lgL:2,xlL:2,lgI:3,lgF:3},{property:"quantity",tag:"input",type:"number",validationChains:["number","integer","positive","required"],xsL:12,smL:4,mdL:2,lgL:2,xlL:1,lgI:3,lgF:3},{property:"date",key:"purchase_date",xsL:12,smL:4,mdL:3,lgL:2,xlL:2,lgI:3},{property:"supplier",key:"purchase_supplier_name",link:"suppliers",textPosition:"left",xsL:12,smL:8,mdL:6,lgL:5,xlL:4,lgI:9},{property:"stock",key:"stock_quantity",lgI:4},{property:"BrandId",withId:!1,key:"brand_name",tag:"select",endPoint:"/brands/options",dependency:"MaterialId",association:"BrandCategoryId",optionValueProperty:"id",validationChains:["number","integer","positive","required"],xsL:12,smL:4,mdL:3,lgL:3,xlL:2,lgI:4,lgF:6},{property:"PurchaseId",tag:"input",type:"number",autoFocusR:!0,validationChains:["number","integer","positive","required"],lgF:3,xsR:12},{property:"orderIndex",tag:"input",type:"number",editOnly:!0,validationChains:["number","integer","positive","required"],lgI:4,lgF:3},{property:"admin",firstNamePath:"admin_firstName",lastNamePath:"admin_lastName",lgI:4},{property:"createdAt",dateTime:!0,lgI:4},{property:"updatedAt",dateTime:!0,lgI:4}]},{name:"materials",restricted:!1,hasDetailPage:!0,defaultKey:"name",fields:[{property:"name",tag:"input",type:"text"},{property:"size_category",tag:"select",type:""}]},{name:"orders",restricted:!1},{name:"payments",restricted:!1},{name:"positions",restricted:!0},{name:"product-materials",restricted:!0},{name:"product-orders",restricted:!1},{name:"products",restricted:!1},{name:"purchases",restricted:!1},{name:"references",restricted:!1},{name:"shopping-lists",restricted:!1},{name:"size-categories",restricted:!0},{name:"sizes",restricted:!0},{name:"stock-employees",restricted:!1},{name:"stocks",restricted:!1},{name:"suppliers",restricted:!1,hasDetailPage:!0},{name:"transactions",restricted:!0}],Z={notFound:{title:"Page Not Found",src:"/images/404-not-found.svg",alt:"page not found icon",width:"256",messages:["The page you are trying to access does not exist.","It might have been deleted or moved to another page."]},forbidden:{title:"Forbidden Access",src:"/images/403-forbidden.svg",alt:"forbidden access icon",width:"256",messages:["You do not have permission to view this page."]}},ee=n(112);function te(e){return{borderColor:"#dc3545",borderWidth:"0.15rem",borderRadius:"0.5rem",boxShadow:e?"0 0 0 0.3rem #f8d7da":""}}function ne(e,t){var n={borderColor:e?"#007bff":"",borderWidth:e?"0.1rem":"0.15rem",borderRadius:"0.5rem",boxShadow:e?"0 0 0 0.3rem #cce5ff":""};if(t)for(var a in t)n[a]=t[a];return n}function ae(e,t){return X.find((function(t){return t.name===e}))[t]}function re(e){var t=e.filter((function(e){return e.tag})),n={string:" must be string",email:" is invalid",number:" must be numeric",integer:" must be an integer",positive:" must be greater than 0",required:" is required"},a={};return t.forEach((function(e){var t,r=de(e.property,e.withId,"first-letter-only-uppercase");a[e.property]=ee,null===(t=e.validationChains)||void 0===t||t.forEach((function(t){a[e.property]="string"===typeof t?a[e.property][t](n[t]?r+n[t]:""):a[e.property][t.name](t.args,n[t.name]?r+n[t.name]:"")}))})),ee.object().shape(a)}function ce(e,t){var n,a=t.split("_"),r=a[a.length-1],c=a.length-1;if(!c)return n=e[r];for(var s=0;s<c;s++){for(var i="",o=a[s],l=0;l<o.length;l++)i+=0===l?o[l].toUpperCase():o[l];n=0===s?e[i]:n[i]}return n=n[r]}function se(e){return X.some((function(t){return"/".concat(t.name)===e}))}function ie(e,t){var n=X.find((function(t){return"/".concat(t.name)===e}));return null===n||void 0===n?void 0:n[t]}function oe(e,t){var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var r=0,c=n;r<c.length;r++){var s=c[r];if(e[s]!==t[s])return!1}return!0}function le(e,t){for(var n="",a=0;a<e.length;a++)0===a?n+="titlecase"===t||"first-letter-only-uppercase"===t?e[a].toUpperCase():e[a].toLowerCase():a===e.length-1?n+=e[a]:e[a+1]===e[a+1].toUpperCase()&&" "!==e[a]&&" "!==e[a+1]?n+="".concat(e[a]," "):e[a]===e[a].toUpperCase()?n+="titlecase"===t?e[a].toUpperCase():e[a].toLowerCase():n+=e[a];return n}function de(e,t,n){var a=!1===t?e.split("").slice(0,e.length-2):e.split("");return"Id"===e.slice(e.length-2,e.length)&&!1!==t&&"all-lowercase"!==n?le(a,"titlecase"):le(a,n)}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=e.split(t),a=n.map((function(e){for(var t="",n=0;n<e.length;n++)t+=0===n?e[n].toUpperCase():e[n];return t})),r=a.join(" ");return r}function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=e.split(t),a=n.map((function(e,t){for(var a="",r=0;r<e.length;r++)r===e.length-1&&t===n.length-1?a+="":a+=e[r].toUpperCase();return a})),r=a.join(" ");return r}function he(e){var t={};for(var n in e)if("object"===typeof e[n]){if(Object.keys(e[n]).length)for(var a in e[n])"id"===a&&(t[n+"Id"]=e[n][a])}else t[n]=e[n];return t}function be(e){return e.split("_")[0]}function me(e,t){return""!==String(e[t.key||t.property]).trim()?t.firstNamePath?(a=e,(r=t).firstNamePath.split("_").length-1?"".concat(ce(a,r.firstNamePath),"\n    ").concat(ce(a,r.lastNamePath)):"".concat(a[r.firstNamePath]," ").concat(a[r.lastNamePath])):t.currency?(n=ce(e,t.key||t.property),"$".concat(Number(n).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","))):t.dateTime?function(e){var t=[];t[1]="Jan",t[2]="Feb",t[3]="Mar",t[4]="Apr",t[5]="May",t[6]="Jun",t[7]="Jul",t[8]="Aug",t[9]="Sep",t[10]="Oct",t[11]="Nov",t[12]="Dec";var n=new Date(e),a=n.getFullYear(),r=("0"+(n.getMonth()+1)).slice(-2),c=("0"+n.getDate()).slice(-2),s=n.getHours(),i=s,o=("0"+n.getMinutes()).slice(-2),l="AM";s>12?(i=s-12,l="PM"):12===s?(i=12,l="PM"):0===s&&(i=12);var d=t[Number(r)],u=i+":"+o+" "+l;return"".concat(c," ").concat(d," ").concat(a,", ").concat(u)}(ce(e,t.key||t.property)):ce(e,t.key||t.property):"-";var n,a,r}function fe(e,t,n,a){if(n.response){var r=n.response.data.message;if("The email or password is incorrect"===r)e(r);else if(400!==n.response.status)t(r);else if(a){var c,s=Object.keys(a).filter((function(e){return"id"!==e}));if(Array.isArray(r))c=s.reduce((function(e,t){var n=de(t,null,"all-lowercase");return r.forEach((function(a){a.toLowerCase().includes(n)&&(e[t]=a)})),e}),{});else{for(var i in c={},a)r.includes(i)&&(c[i]=be(r));if(!Object.keys(c).length)return void t(r)}e(c)}else t(r)}else t(n.message)}var pe=n(288),Oe=n(1);function ge(e){var t=e.authError,n=e.error,a=e.className;return t&&!n&&"Unauthorized Access!"===t?Object(Oe.jsx)(Oe.Fragment,{}):Object(Oe.jsxs)(Oe.Fragment,{children:[t&&Object(Oe.jsx)(pe.a,{className:"text-center ".concat(a||""),variant:"danger",children:t}),n&&Object(Oe.jsx)(pe.a,{className:"text-center ".concat(a||""),variant:"danger",children:n})]})}var xe=n(290);function ve(e){var t=e.className;return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(N.a,{className:"".concat(t||"spinner-container"),children:Object(Oe.jsx)(xe.a,{animation:"border",variant:"primary",role:"status",children:Object(Oe.jsx)("span",{className:"sr-only",children:"Loading..."})})})})}var ye=n(148);function Ne(e){var t=e.text;return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(N.a,{fluid:!0,className:"d-flex justify-content-center text-center mt-4",children:Object(Oe.jsx)(ye.a,{xs:!0,sm:8,md:6,lg:4,children:Object(Oe.jsx)(w.a,{className:"no-item-card",children:Object(Oe.jsx)(w.a.Body,{children:Object(Oe.jsx)(w.a.Title,{className:"mt-2",children:t})})})})})})}var we=n(20),ke=n(296),Ce=n(297),Fe=n(295),Se=n(293);function Le(){var e=Object(h.f)(),t=(Object(j.c)(),Object(j.d)((function(e){return e.pathReducer}))),n=t.path,a=(t.component,Object(j.d)((function(e){return e.authReducer.authLoading}))),r=Object(j.d)((function(e){return e.authReducer.isAuthenticatedRedux})),s=Object(o.useState)(""),i=Object(p.a)(s,2),l=i[0],d=i[1],u=Object(o.useState)(!1),b=Object(p.a)(u,2),O=b[0],g=b[1],x=Object(o.useState)(!1),v=Object(p.a)(x,2),y=v[0],N=v[1];function w(e){return k.apply(this,arguments)}function k(){return(k=Object(f.a)(m.a.mark((function t(n){var a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"single"!==n){t.next=7;break}return t.next=4,D();case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,A();case 9:t.t0=t.sent;case 10:a=t.t0,F(),e.push("/login"),G("See you soon!",a.message,"success"),t.next=20;break;case 16:t.prev=16,t.t1=t.catch(0),r=t.t1.response?t.t1.response.data.message:t.t1.message,G("Sign out failed",r,"error");case 20:case"end":return t.stop()}}),t,null,[[0,16]])})))).apply(this,arguments)}var F=function(){return g(!1)};return Object(o.useEffect)((function(){a&&!r||d(c)}),[a,r]),r?Object(Oe.jsx)(Oe.Fragment,{children:"/login"!==n&&r&&Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(ke.a,{fixed:"top",bg:"dark",variant:"dark",text:"white",expand:"lg",children:[Object(Oe.jsx)(we.c,{exact:!0,to:"/",children:Object(Oe.jsxs)(ke.a.Brand,{children:[Object(Oe.jsx)("img",{alt:"phoenix-company-logo",src:"/images/rdia.svg",width:"30",height:"30",className:"d-inline-block align-top"})," ","Welder"]})}),Object(Oe.jsx)(ke.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(Oe.jsxs)(ke.a.Collapse,{children:[Object(Oe.jsx)(Ce.a,{className:"mr-auto",children:Object(Oe.jsx)("li",{className:"nav-item",onClick:function(){return N(!0)},children:Object(Oe.jsxs)("div",{className:"nav-link d-flex align-items-center info-tab",children:[Object(Oe.jsx)("img",{src:"/images/info2.svg",width:"30",height:"30",className:"d-inline-block align-top mr-1",alt:"info logo",loading:"lazy"}),"Info"]})})}),Object(Oe.jsx)(Ce.a,{className:"ml-auto",children:Object(Oe.jsx)(Fe.a,{title:l,children:Object(Oe.jsx)(Fe.a.Item,{onClick:function(){return g(!0)},children:"Sign Out"})})})]})]}),Object(Oe.jsxs)(Se.a,{show:O,onHide:F,backdrop:"static",keyboard:!1,children:[Object(Oe.jsx)(Se.a.Header,{closeButton:!0,children:Object(Oe.jsx)(Se.a.Title,{children:"Sign Out"})}),Object(Oe.jsx)(Se.a.Body,{children:"You can sign out only on this browser or on all devices."}),Object(Oe.jsxs)(Se.a.Footer,{children:[Object(Oe.jsx)(C.a,{variant:"primary",onClick:function(){return w("single")},children:"Only on this browser"}),Object(Oe.jsx)(C.a,{variant:"secondary",onClick:function(){return w("multiple")},children:"On all devices"}),Object(Oe.jsx)(C.a,{variant:"danger",onClick:F,children:"Cancel"})]})]}),Object(Oe.jsx)(gt,{showForm:y,handleCloseForm:function(){return N(!1)}})]})}):Object(Oe.jsx)(Oe.Fragment,{})}var Ie=n(298),Ee=n(291);function Re(e,t,n){var a=e.scrollTop,r=t-a,c=0;!function t(){c+=20;var s=Math.easeInOutQuad(c,a,r,n);e.scrollTop=s,c<n&&setTimeout(t,20)}()}Math.easeInOutQuad=function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t};var Pe=function(e){return function(t){t({type:"form/setIsDatabaseChanged",isDatabaseChanged:e})}},Te=function(e){return function(t){t({type:"form/setIsRearrangeMode",isRearrangeMode:e})}},De=function(e){return function(t){t({type:"search/setTerm",term:e})}},Be=function(e){return function(t){t({type:"search/setKey",key:e})}},Ae=function(e){return function(t){t({type:"search/setYear",year:e})}},Me=function(e){return function(t){t({type:"search/setMonth",month:e})}},Ve=function(e){return function(t){t({type:"search/setDay",day:e})}},He=function(e){return function(t){t({type:"search/setOrder",order:e})}},_e=function(e){return function(t){t({type:"search/setPage",page:e})}},qe=function(e){return function(t){t({type:"search/setIsPressed",isPressed:e})}},ze=function(e){return function(t){t({type:"search/setNoSearchBar",noSearchBar:e})}},Ue=function(){return function(e){e(De("")),e(Ae("")),e(Me("")),e(Ve("")),e(He("")),e(_e(1)),e(qe(!1))}},Ke={};function We(){for(var e in Ke)delete Ke[e]}function Je(){return Ke}function Ye(){var e=Object(j.d)((function(e){return e.pathReducer})),t=e.path,n=e.isForbidden,a=e.isNotFound,r=Object(j.d)((function(e){return e.authReducer.isAuthenticatedRedux})),c=Object(j.d)((function(e){return e.formReducer})).isRearrangeMode,s=Object(o.useState)(!1),i=Object(p.a)(s,2),l=i[0],d=i[1],u=Object(o.useState)(""),h=Object(p.a)(u,2),b=h[0],m=h[1],f=Object(o.useState)([]),O=Object(p.a)(f,2),g=(O[0],O[1]),x=Object(o.useState)(""),v=Object(p.a)(x,2),y=v[0],N=v[1],w=Object(o.useState)(!1),k=Object(p.a)(w,2),C=k[0],F=k[1],S=Object(o.useState)(!1),L=Object(p.a)(S,2),I=L[0],E=L[1],R=Object(j.c)();var P=function(){var e=document.documentElement,t=e.scrollHeight-e.clientHeight;e.scrollTop/t>.1?d(!0):d(!1)};return Object(o.useEffect)((function(){if(se(t)){var e=t.split("/")[1];m(e),g(ae(e,"structureData")),N(function(e,t,n){var a=e.split("/")[1],r=X.find((function(e){return e.name===a})).structureData.find((function(e){return e[t]}));return null===r||void 0===r?void 0:r[n]}(t,"autoFocusR","property")),document.addEventListener("scroll",P)}}),[t]),r?Object(Oe.jsxs)(Oe.Fragment,{children:["/login"!==t&&"/"!==t&&r&&!n&&!a&&Object(Oe.jsxs)("div",{className:"toolbar-container",children:[Object(Oe.jsxs)("div",{className:"toolbar-container-left",children:[se(t)&&!c&&Object(Oe.jsx)(Ie.a,{placement:"right",delay:{show:250,hide:400},overlay:Object(Oe.jsx)(Ee.a,{children:"add"}),children:Object(Oe.jsx)("img",{onClick:function(){return F(!0)},className:"toolbar-icon",src:"/images/add-toolbar.svg",width:"47"})}),ie(t,"rearrangeable")&&!c&&Object(Oe.jsx)(Ie.a,{placement:"right",delay:{show:250,hide:400},overlay:Object(Oe.jsx)(Ee.a,{children:"rearrange"}),children:Object(Oe.jsx)("img",{onClick:function(){y&&ie(t,"rearrangeable")?E(!0):(R(Te(!0)),R(ze(!0)))},className:"toolbar-icon",src:"/images/rearrange.svg",width:"37"})}),c&&Object(Oe.jsx)(bt,{type:"other",variant:"danger",text:"Exit Rearrange Mode",tooltip:"stop rearranging",onClick:function(){R(Te(!1)),R(ze(!1)),We()},addClassName:"exit-rearrange-mode"})]}),Object(Oe.jsx)("div",{className:"toolbar-container-right",children:Object(Oe.jsx)(Ie.a,{placement:"left",delay:{show:250,hide:400},overlay:Object(Oe.jsx)(Ee.a,{children:"scroll to top"}),children:Object(Oe.jsx)("img",{onClick:function(){Re(document.body,0,800),Re(document.documentElement,0,800)},className:"scroll-icon ".concat(l?"show-scroll-icon":""),src:"/images/scroll-top.svg",width:"45"})})})]}),C&&Object(Oe.jsx)(jt,{type:"add",menuName:b,structureData:ae(t.split("/")[1],"structureData").filter((function(e){return e.tag&&!e.editOnly})),showForm:C,handleCloseForm:function(){return F(!1)}}),I&&Object(Oe.jsx)(jt,{type:"rearrange",menuName:b,structureData:ae(t.split("/")[1],"structureData").filter((function(e){return void 0!==e.autoFocusR})),showForm:I,handleCloseForm:function(){return E(!1)}})]}):Object(Oe.jsx)(Oe.Fragment,{})}var Ge=function(e,t){var n=Object(o.useState)(e),a=Object(p.a)(n,2),r=a[0],c=a[1];return Object(o.useEffect)((function(){var n=setTimeout((function(){c(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r};function Qe(e){for(var t=[],n=1;n<=e;n++)n<10?t.push("0"+n):t.push(""+n);return t}function $e(){var e=Object(o.useState)([]),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(j.c)(),c=Object(j.d)((function(e){return e.pathReducer})),s=c.path,i=c.isForbidden,l=c.isNotFound,d=Object(j.d)((function(e){return e.authReducer})),u=d.authLoading,h=d.isAuthenticatedRedux,b=Object(j.d)((function(e){return e.formReducer})),m=b.isDatabaseChanged,f=b.isRearrangeMode,O=Object(j.d)((function(e){return e.searchReducer})).noSearchBar,g=Object(o.useState)([]),x=Object(p.a)(g,2),v=x[0],y=x[1],w=Object(o.useState)([]),F=Object(p.a)(w,2),S=F[0],L=F[1],I=Object(o.useState)([]),E=Object(p.a)(I,2),R=E[0],P=E[1],T=Object(o.useState)([]),D=Object(p.a)(T,2),B=D[0],A=D[1],M=Object(o.useState)({}),V=Object(p.a)(M,2),H=V[0],_=V[1],q=Object(o.useState)({}),z=Object(p.a)(q,2),U=z[0],K=z[1],W=Object(o.useState)(null),J=Object(p.a)(W,2),Y=J[0],G=J[1],Q=Ge(H.term,500);function $(e){var t={};t[e.target.name]=!0,K(t)}function Z(e){var t=e.target.name,n=e.target.value;switch(t){case"key":r(Be(n)),r(Ue());break;case"year":r(Ae(n));break;case"month":r(Me(n));break;case"day":r(Ve(n));break;case"order":r(He(n));break;case"term":if(G(null),f){var c=Je().dragKey,s=Number(n);if(""!==n&&(!s||!Number.isInteger(s)||s<=0)){var i=de(c,!0),o=["".concat(i," is invalid")];G(o)}}}_((function(e){return"key"===t&&(e.term="",e.year="",e.month="",e.day=""),e[t]=n,e})),a((function(e){return Object.assign([],e)}))}function ee(){r(Be("")),r(Ue()),a(function(){var e=[];return X.forEach((function(t){return e.push("/"+t.name)})),e}()),K({}),r(Te(!1)),G(null);var e=X.find((function(e){if(s==="/".concat(e.name))return e}));if(e){var t=e.structureData.find((function(e){return"warning"===e.bg})),n=t.key||t.property;r(Be(n)),_({key:n,year:"",month:"",day:"",term:""}),A(e.structureData)}else _({key:"",year:"",month:"",day:"",term:""})}return Object(o.useEffect)((function(){Y||r(De(Q))}),[Q]),Object(o.useEffect)((function(){f?_((function(e){return e.term=Je().dragKeyValue,e})):(G(null),r(Ue()),_((function(e){return e.term="",e}))),A((function(e){return Object.assign([],e)}))}),[f]),Object(o.useEffect)((function(){ee()}),[s]),Object(o.useEffect)((function(){m&&!f&&ee()}),[m]),Object(o.useEffect)((function(){var e=function(e,t,n){for(var a=(new Date).getFullYear(),r=[],c=[],s=2020;s<=a;s++)r.push(""+s),s%4===0&&c.push(""+s);return"02"===t&&"29"===n?c:r}(H.year,H.month,H.day),t=function(e,t,n){for(var a,r=[],c=1;c<=12;c++)c<10?r.push("0"+c):r.push(""+c);return Number(e)%4!==0&&Number(n)>=29?((a=r.slice(2)).unshift("01"),a):31===Number(n)?a=["01","03","05","07","08","10","12"]:r}(H.year,H.month,H.day),n=function(e,t,n){var a=Qe(28),r=Qe(29),c=Qe(30),s=Qe(31);return Number(e)%4===0&&"02"===t?r:Number(e)%4!==0&&"02"===t?a:["04","06","09","11"].includes(t)?c:s}(H.year,H.month,H.day);y(e),L(t),P(n)}),[H.year,H.month,H.day]),n.includes(s)||"/"===s?h&&!u&&B.length||"/"===s?Object(Oe.jsx)(Oe.Fragment,{children:(n.includes(s)||"/"===s)&&h&&!i&&!l&&!O&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(N.a,{fluid:!0,className:"search-container",children:Object(Oe.jsxs)(k.a.Row,{children:["/"!==s&&Object(Oe.jsx)(Xe,{name:"key",tag:"select",values:H,xs:12,md:"auto",handleInputChange:Z,handleFocus:$,onFocus:U,children:0!==B.length&&B.map((function(e){if(f){if(e.autoFocusR)return Object(Oe.jsx)("option",{value:e.key?e.key:e.property,children:de(e.property,e.withId)},e.property)}else if(e.xsL||e.smL||e.mdL||e.lgL||e.xlL)return Object(Oe.jsx)("option",{value:e.key?e.key:e.property,children:de(e.property,e.withId)},e.property)}))}),(null===H||void 0===H?void 0:H.key.includes("date"))&&Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(Xe,{name:"year",tag:"select",values:H,xs:4,md:"auto",handleInputChange:Z,handleFocus:$,onFocus:U,children:[Object(Oe.jsx)("option",{value:"",children:"- year -"}),v.map((function(e){return Object(Oe.jsx)("option",{children:e},e)}))]}),Object(Oe.jsxs)(Xe,{name:"month",tag:"select",values:H,xs:4,md:"auto",handleInputChange:Z,handleFocus:$,onFocus:U,children:[Object(Oe.jsx)("option",{value:"",children:"- month -"}),S.map((function(e){return Object(Oe.jsx)("option",{children:e},e)}))]}),Object(Oe.jsxs)(Xe,{name:"day",tag:"select",values:H,xs:4,md:"auto",handleInputChange:Z,handleFocus:$,onFocus:U,children:[Object(Oe.jsx)("option",{value:"",children:"- day -"}),R.map((function(e){return Object(Oe.jsx)("option",{children:e},e)}))]})]}),["/account-transactions","/transactions"].includes(s)&&Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Xe,{name:"sortBy",tag:"select",defaultValue:"sort by input order",xs:8,md:"auto",handleInputChange:Z,handleFocus:$,onFocus:U,children:Object(Oe.jsx)("option",{children:"sort by input order"})}),Object(Oe.jsxs)(Xe,{name:"order",tag:"select",defaultValue:"DESC",xs:4,md:"auto",className:"order-search-sm",handleInputChange:Z,handleFocus:$,onFocus:U,children:[Object(Oe.jsx)("option",{children:"ASC"}),Object(Oe.jsx)("option",{children:"DESC"})]})]}),""!==H.year.trim()||""!==H.month.trim()||""!==H.day.trim()?Object(Oe.jsx)(ye.a,{children:Object(Oe.jsxs)(C.a,{type:"button",className:"search-button",onClick:function(e){e.preventDefault(),r(qe(!0))},children:[Object(Oe.jsx)("img",{className:"",src:"/images/search.svg",width:"37",height:"37",alt:"search-icon"}),Object(Oe.jsx)("div",{children:"Search"})]})}):"/"===s?Object(Oe.jsx)("div",{className:"search-bar-home",children:Object(Oe.jsx)(Xe,{name:"term",values:H,xs:12,sm:8,lg:5,type:"text",placeholder:"search ...",handleInputChange:Z,handleFocus:$,onFocus:U})}):Object(Oe.jsx)(Xe,{name:"term",values:H,xs:12,md:5,type:f?"number":"text",placeholder:f?"an integer greater than 0":"search ...",handleInputChange:Z,handleFocus:$,onFocus:U}),Y&&Object(Oe.jsx)(ye.a,{children:Object(Oe.jsx)(ge,{error:Y[0],className:"search-bar-error"})})]})})})}):Object(Oe.jsx)("div",{className:"search-bar-placeholder"}):Object(Oe.jsx)(Oe.Fragment,{})}function Xe(e){var t=e.children,n=e.name,a=e.tag,r=e.values,c=e.defaultValue,s=e.className,i=e.type,o=e.placeholder,l=e.handleInputChange,d=e.handleFocus,u=e.onFocus,j=e.style,h=e.xs,b=e.sm,m=e.md,f=e.lg;return Object(Oe.jsxs)(k.a.Group,{as:ye.a,xs:h,sm:b,md:m,lg:f,children:[Object(Oe.jsx)(k.a.Label,{srOnly:!0,children:n}),r?Object(Oe.jsx)(k.a.Control,{as:a,name:n,value:r[n],className:s,type:i,placeholder:o,onChange:l,onFocus:d,style:ne(u[n],j),children:t}):Object(Oe.jsx)(k.a.Control,{as:a,name:n,defaultValue:c,className:s,type:i,placeholder:o,onChange:l,onFocus:d,style:ne(u[n]),children:t})]})}function Ze(e){var t=e.menu;return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(we.b,{className:"link",to:t.structureData?"/".concat(t.name):"",children:Object(Oe.jsx)(ye.a,{className:"menu-card-col-container e-col h-100",children:Object(Oe.jsxs)(w.a,{className:"menu-card h-100",children:[Object(Oe.jsxs)("div",{className:"menu-card-img-container",children:[Object(Oe.jsx)(w.a.Img,{className:"menu-img",variant:"top",src:"/images/menus/".concat(t.name,".svg"),alt:t.name}),!t.structureData&&Object(Oe.jsx)("img",{className:"construction-status-img",src:"/images/hammer.svg",width:50})]}),Object(Oe.jsx)(w.a.Title,{className:"menu-title",children:ue(t.name,"-")})]})})})})}function et(e){var t=e.category,n=e.element,a=e.obj,r=e.bg,c=e.text,s=a["xs".concat(t[0].toUpperCase())],i=a["sm".concat(t[0].toUpperCase())],o=a["md".concat(t[0].toUpperCase())],l=a["lg".concat(t[0].toUpperCase())],d=a["xl".concat(t[0].toUpperCase())],u="",j="c-card-label-info text-warning",h="e-col-info",b="link-f0ad4e.svg";"list"===t&&(u=a.currency?"text-md-right":a.textPosition?"text-md-".concat(a.textPosition):"text-md-center",j="c-card-label text-".concat(a.text||"warning"),b="".concat(a.bg?"link-000000":"link-f0ad4e",".svg"),h="e-col");var m=function(){return Object(Oe.jsx)(w.a,{bg:r||"dark",text:c||"white",border:"dark",className:"c-card h-100",children:Object(Oe.jsxs)("div",{className:a.link?"card-table-data-container-link":void 0,children:[Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(w.a.Text,{className:"".concat(j),children:de(a.property,a.withId,"titlecase")}),Object(Oe.jsx)(w.a.Text,{className:"m-2 ".concat(u),children:me(n,a)})]}),a.link&&Object(Oe.jsx)("img",{alt:"link-icon",src:"images/".concat(b),width:"30",height:"30",className:"link-icon"})]})})};return Object(Oe.jsx)(ye.a,{xs:s,sm:i,md:o,lg:l,xl:d,className:"".concat(h),children:a.link?Object(Oe.jsx)(we.b,{className:"link",to:"".concat(a.link,"/").concat(n.id),children:m()}):m()})}var tt=n(10),nt=n(292);function at(e){var t=e.index,n=e.provided,a=e.innerRef,r=e.element,c=e.structureData,s=e.actionComponent;e.firstElementRef;return Object(Oe.jsx)("div",Object(tt.a)(Object(tt.a)(Object(tt.a)({},null===n||void 0===n?void 0:n.draggableProps),null===n||void 0===n?void 0:n.dragHandleProps),{},{ref:a,children:Object(Oe.jsx)(N.a,{fluid:!0,className:"c-card-container",children:Object(Oe.jsxs)(nt.a,{className:"e-col-row",children:[Object(Oe.jsx)(ye.a,{xs:12,sm:12,md:1,lg:1,xl:1,className:"e-col",children:Object(Oe.jsx)(w.a,{bg:"dark",text:"white",border:"dark",className:"c-card h-100",children:Object(Oe.jsxs)(N.a,{fluid:!0,className:"index-container",children:[Object(Oe.jsx)(w.a.Text,{className:"mt-2 mb-1 c-index-data",children:t+1}),s&&Object(Oe.jsx)("div",{className:"actions-index",children:s("end",r.id)})]})})}),c.map((function(e){if(e.xsL||e.smL||e.mdL||e.lgL||e.xlL)return Object(Oe.jsx)(et,{category:"list",element:r,obj:e,bg:e.bg||"dark",text:e.text||"white"},e.property)})),Object(Oe.jsx)(ye.a,{md:3,lg:2,xl:2,className:"e-col actions-end",children:s&&Object(Oe.jsx)(Oe.Fragment,{children:s("around",r.id)})})]})})}))}function rt(e){var t=e.structureData;return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(N.a,{fluid:!0,className:"c-header-card",children:Object(Oe.jsxs)(nt.a,{className:"e-col-row flex-nowrap",children:[Object(Oe.jsx)(ye.a,{className:"e-col",md:1,children:Object(Oe.jsx)(N.a,{fluid:!0,className:"header-text-container-table",children:Object(Oe.jsx)(w.a.Text,{className:"header-text-table",children:"#"})})}),t.map((function(e){if(e.xsL||e.smL||e.mdL||e.lgL||e.xlL)return Object(Oe.jsx)(ye.a,{className:"e-col",md:e.mdL,lg:e.lgL,xl:e.xlL,children:Object(Oe.jsx)(N.a,{fluid:!0,className:"header-text-container-table",children:Object(Oe.jsx)(w.a.Text,{className:"header-text-table",children:de(e.property,e.withId,"titlecase")})})},e.property)})),Object(Oe.jsx)(ye.a,{className:"e-col",md:3,lg:2,children:Object(Oe.jsx)(N.a,{fluid:!0,className:"header-text-container-table",children:Object(Oe.jsx)(w.a.Text,{className:"header-text-table",children:"Actions"})})})]})})})}function ct(e){var t=e.children,n=e.menuName,a=e.type,r=e.stateValues,c=e.loading,s=e.showForm,i=e.handleCloseForm,o=e.handleSubmit,l=!Object.keys(r).length;return Object(Oe.jsxs)(Se.a,{show:s,onHide:i,backdrop:"static",keyboard:!1,centered:!0,className:"menu-form-modal",size:"rearrange"===a?"md":"lg",children:[Object(Oe.jsx)(Se.a.Header,{className:"menu-form-header",closeButton:!0,children:Object(Oe.jsxs)("div",{className:"title-container-form",children:[Object(Oe.jsx)(Se.a.Title,{className:"main-title-form",children:je(n,"-")}),Object(Oe.jsx)(Se.a.Title,{children:ue(a,"-")})]})}),Object(Oe.jsx)(Se.a.Body,{className:"menu-form-body",children:t}),Object(Oe.jsxs)(Se.a.Footer,{className:"menu-form-footer",children:["add"===a&&!l&&Object(Oe.jsx)(bt,{type:"add",variant:"primary",loading:c,onClick:o}),"edit"===a&&!l&&Object(Oe.jsx)(bt,{type:a,variant:"warning",loading:c,onClick:o}),"rearrange"===a&&!l&&Object(Oe.jsx)(bt,{type:"other",variant:"info",text:"Next",loading:c,onClick:o}),Object(Oe.jsx)(bt,{type:"other",variant:"danger",text:"Cancel",onClick:i})]})]})}var st=n(90),it=n(58),ot=n(152),lt=n.n(ot);function dt(e){var t=Object(o.useRef)();return Object(o.useEffect)((function(){t.current=e}),[e]),t.current}var ut=Object(it.b)((function(e){var t=e.onChange,n=void 0===t?lt.a:t,a=e.formik,r=a.values,c=dt(r);return Object(o.useEffect)((function(){c&&n({prevValues:c,nextValues:r,formik:a})}),[r]),null}));function jt(e){var t=e.type,n=e.menuName,a=e.structureData,r=e.dataByPk,c=e.showForm,s=e.setDataByPk,i=e.handleCloseForm,l=e.handleCloseInfo,d=e.setError,u=e.id,h=Object(o.useState)({}),b=Object(p.a)(h,2),O=b[0],g=b[1],x=Object(o.useState)(!1),v=Object(p.a)(x,2),y=v[0],w=v[1],C=Object(o.useState)(null),F=Object(p.a)(C,2),S=F[0],L=F[1],I=Object(o.useState)(null),R=Object(p.a)(I,2),P=R[0],T=R[1],D=Object(o.useState)({}),B=Object(p.a)(D,2),A=B[0],M=B[1],V=Object(j.c)();function H(e){var t={};t[e]=!0,M(t)}function _(e){e.preventDefault()}function z(){L(null),T(null)}var U=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),z(),e.prev=2,e.next=5,q.post("/".concat(n,"/register"),t,{headers:{access_token:E()}});case 5:V(Pe(!0)),w(!1),i(),Q("Added to database","success"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),w(!1),fe(L,T,e.t0,t);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(),!oe(t,O)){e.next=5;break}G("No change!","The values in this form are still the same.","info"),e.next=21;break;case 5:return w(!0),e.prev=6,e.next=9,q.put("/".concat(n,"/").concat(u),t,{headers:{access_token:E()}});case 9:V(Pe(!0)),w(!1),s(null),l(),i(),Q("Data edited","success"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),w(!1),fe(L,T,e.t0,t);case 21:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}(),W=function(e){var t=a[0].property,n=Number(e[t]);if(!n||!Number.isInteger(n)||n<=0){var r=de(t,!0),c=Object(st.a)({},t,"".concat(r," is invalid. It must be an integer greater than 0."));L(c)}else z(),function(e){var t=Object.keys(e)[0];Ke.dragKey=t,Ke.dragKeyValue=e[t]}(e),V(Te(!0)),i()};return Object(o.useEffect)((function(){if("add"===t||"rearrange"===t){w(!0);var e=a.reduce((function(e,t){return t.tag&&(e[t.property]=""),e}),{});g((function(t){return Object.assign({},t,e)})),w(!1)}else"edit"===t&&((null===r||void 0===r?void 0:r.id)===u?g((function(e){return Object.assign({},e,he(r))})):(w(!0),q.post("/".concat(n,"/").concat(u),{},{headers:{access_token:E()}}).then((function(e){var t=e.data;g((function(e){return Object.assign({},e,he(t))})),s(t),d(null)})).catch((function(e){fe(L,T,e),fe(null,d,e),i()})).finally((function(e){return w(!1)}))))}),[]),Object.keys(O).length?Object.keys(O).length?Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(it.a,{validationSchema:re(a),onSubmit:function(e){return"add"===t?U(e):"edit"===t?K(e):W(e)},initialValues:O,children:function(e){var r=e.handleSubmit,s=e.handleChange,o=(e.handleBlur,e.setFieldValue),l=e.values,d=e.touched,u=(e.isValid,e.errors);return Object(Oe.jsx)(ct,{menuName:n,type:t,stateValues:O,loading:y,showForm:c,handleCloseForm:i,handleSubmit:r,children:Object(Oe.jsxs)(N.a,{fluid:!0,className:"add-edit-form-container",children:[Object(Oe.jsx)(ge,{error:P}),Object(Oe.jsxs)(k.a,{onSubmit:_,noValidate:!0,children:[Object(Oe.jsx)(ut,{onChange:z}),Object(Oe.jsx)(k.a.Row,{children:a.map((function(e){if("add"!==t||!e.editOnly)switch(e.tag){case"input":return Object(Oe.jsx)(mt,{field:e,formType:t,handleChange:s,value:null===l||void 0===l?void 0:l[e.property],touched:d[e.property],serverError:(null===S||void 0===S?void 0:S[e.property])?S[e.property]:null,clientError:u[e.property]?u[e.property]:null,handleFocus:H,isOnFocus:A[e.property]},e.property);case"select":return Object(Oe.jsx)(ft,{menuName:n,field:e,formType:t,handleChange:s,setFieldValue:o,values:l,touched:d[e.property],dependencyValue:e.dependency?null===l||void 0===l?void 0:l[e.dependency]:null,serverError:(null===S||void 0===S?void 0:S[e.property])?S[e.property]:null,clientError:u[e.property]?u[e.property]:null,setNonFieldServerError:T,handleFocus:H,isOnFocus:A[e.property]},e.property)}}))})]})]})})}})}):void 0:Object(Oe.jsx)(ct,{menuName:n,type:t,stateValues:O,loading:y,showForm:c,handleCloseForm:i,children:Object(Oe.jsx)(ve,{})})}function ht(e){var t=e.menuName,n=e.show,a=e.handleCloseForm,r=e.handleCloseInfo,c=e.setError,s=e.id,i=Object(j.c)();return Object(Oe.jsxs)(Se.a,{show:n,onHide:a,backdrop:"static",keyboard:!1,children:[Object(Oe.jsx)(Se.a.Header,{className:"bg-warning",closeButton:!0,children:Object(Oe.jsx)(Se.a.Title,{className:"delete-confirm-title",children:"DELETE CONFIRMATION"})}),Object(Oe.jsxs)(Se.a.Body,{className:"text-center text-light bg-dark",children:[Object(Oe.jsx)("img",{src:"/images/warning.svg",width:"100",height:"100",className:"error-logo",alt:"error sign"}),Object(Oe.jsx)("h3",{children:"Are you sure?"}),Object(Oe.jsx)("h6",{children:"You won't be able to revert this!"})]}),Object(Oe.jsxs)(Se.a.Footer,{className:"bg-dark",children:[Object(Oe.jsx)(C.a,{variant:"danger",onClick:function(){return function(e){q.delete("/".concat(t,"/").concat(e),{headers:{access_token:E()}}).then((function(e){i(Pe(!0)),r(),a(),c(null),Q(e.data.message,"success")})).catch((function(e){console.log(e.response),fe(null,c,e)}))}(s)},children:"Yes, delete it!"}),Object(Oe.jsx)(C.a,{variant:"secondary",onClick:a,children:"No, cancel!"})]})]})}function bt(e){var t=e.type,n=e.variant,a=e.size,r=e.text,c=e.tooltip,s=e.loading,i=e.onClick,o=e.addClassName,l=function(){return"add"===t||"edit"===t?Object(Oe.jsxs)(C.a,{type:"button",onClick:i,variant:n,size:a,className:"form-button ".concat(o),children:[s?ue(t)+"ing":ue(t),s&&Object(Oe.jsx)(xe.a,{animation:"border",size:"sm",className:"ml-2"})]}):Object(Oe.jsx)(C.a,{type:"button",onClick:i,variant:n,size:a,className:"form-button ".concat(o),children:r})};return c?Object(Oe.jsx)(l,{}):Object(Oe.jsx)(Ie.a,{placement:"left",delay:{show:250,hide:400},overlay:Object(Oe.jsx)(Ee.a,{children:c||""}),children:Object(Oe.jsx)(l,{})})}function mt(e){var t=e.field,n=e.formType,a=e.handleChange,r=e.value,c=e.touched,s=e.clientError,i=e.serverError,l=e.handleFocus,d=e.isOnFocus,u=t.property,j=t.withId,h=(t.type,t.autoFocusF),b=t.autoFocusR,m=t.lgF,f=t.xlF,p=(t.xsR,t.validationChains),O=Object(o.useCallback)((function(e){e&&setTimeout((function(){return e.focus()}),1)}),[]);return Object(Oe.jsxs)(k.a.Group,{as:ye.a,lg:"rearrange"!==n?m:void 0,xl:"rearrange"!==n?f:void 0,className:"mt-lg-3 mb-lg-3",children:[Object(Oe.jsxs)(k.a.Label,{className:"font-weight-bold text-warning",children:[de(u,j,"titlecase"),p.includes("required")&&Object(Oe.jsxs)("span",{className:"asterisk-required",children:[" ","*"]})]}),Object(Oe.jsx)(k.a.Control,{name:u,type:"text",value:r,onChange:a,isInvalid:c&&!!s,style:i?te(d):ne(d),ref:"rearrange"===n&&b||h?O:function(){},onFocus:function(){return l(u)}}),Object(Oe.jsx)(k.a.Control.Feedback,{type:"invalid",children:s}),Object(Oe.jsx)(N.a,{className:"feedback-container",children:Object(Oe.jsx)(k.a.Text,{className:"feedback",children:i})})]})}function ft(e){var t=e.menuName,n=e.field,a=e.formType,r=e.handleChange,c=e.setFieldValue,s=e.values,i=e.touched,l=e.clientError,d=e.serverError,u=e.setNonFieldServerError,j=e.handleFocus,h=e.isOnFocus,b=e.dependencyValue,m=n.property,f=n.withId,O=n.options,g=n.endPoint,x=n.optionValueProperty,v=n.autoFocusF,y=n.autoFocusR,w=n.lgF,C=n.xlF,F=(n.xsR,n.dependency),S=n.association,L=n.validationChains,I=function(e,t,n,a,r,c){var s=Object(o.useState)([]),i=Object(p.a)(s,2),l=i[0],d=i[1],u=Object(o.useState)(!1),j=Object(p.a)(u,2),h=j[0],b=j[1],m=Object(o.useState)(null),f=Object(p.a)(m,2),O=f[0],g=f[1];return Object(o.useEffect)((function(){if(!t&&a&&r||!t&&!a){var e={};a&&(e.dependencyidname=a,e.dependencyid=r,e.associationidname=c),b(!0),g(null),q.post(n,{},{headers:{access_token:E()},params:e}).then((function(e){d(e.data)})).catch((function(e){console.log(e),fe(null,g,e)})).finally((function(e){b(!1)}))}}),[e,r]),{data:l,loading:h,error:O}}(t,O,g,F,b,S),R=I.data,P=I.loading,T=I.error,D=Object(o.useState)(""),B=Object(p.a)(D,2),A=B[0],M=B[1],V=Object(o.useCallback)((function(e){e&&setTimeout((function(){return e.focus()}),1)}),[]);return Object(o.useEffect)((function(){var e;R.length&&(Object.keys(R[0]).forEach((function(t){"id"!==t&&(e=t)})),M(e));var t=1===R.length?x?R[0][x]:R[0][e]:s[m];c(m,t)}),[R]),Object(o.useEffect)((function(){""===s[F]&&c(m,"")}),[s]),Object(o.useEffect)((function(){T&&(console.log(T),u(T))}),[T]),Object(Oe.jsxs)(k.a.Group,{as:ye.a,lg:"rearrange"!==a?w:void 0,xl:"rearrange"!==a?C:void 0,className:"mt-lg-3 mb-lg-3",children:[Object(Oe.jsxs)(k.a.Label,{className:"font-weight-bold text-warning",children:[de(m,f,"titlecase"),L.includes("required")&&Object(Oe.jsxs)("span",{className:"asterisk-required",children:[" ","*"]})]}),Object(Oe.jsxs)(k.a.Control,{as:"select",name:m,value:s[m],onChange:r,disabled:!(!P&&!T),isInvalid:i&&!!l,style:d?te(h):ne(h),ref:"rearrange"===a&&y||v?V:function(){},onFocus:function(){return j(m)},children:[Object(Oe.jsx)("option",{value:"",children:"Choose..."}),O?O.map((function(e,t){return Object(Oe.jsx)("option",{children:e},t)})):R.map((function(e){return Object(Oe.jsx)("option",{value:x?e[x]:e[A],children:e[A]},e.id)}))]}),Object(Oe.jsx)(k.a.Control.Feedback,{type:"invalid",children:l}),d&&Object(Oe.jsx)(N.a,{className:"feedback-container",children:Object(Oe.jsx)(k.a.Text,{className:"feedback",children:d})})]})}function pt(e){var t=e.position,n=e.id,a=e.handleShowInfo,r=e.handleShowEdit,c=e.handleShowDeleteConfirm;return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(N.a,{fluid:!0,className:"rounded bg-dark d-flex\n          justify-content-".concat(t," c-card\n          actions-container h-100"),children:[Object(Oe.jsx)(Ie.a,{placement:"left",delay:{show:250,hide:400},overlay:Object(Oe.jsx)(Ee.a,{children:"info"}),children:Object(Oe.jsx)("img",{className:"action-button m-0",src:"/images/info.svg",width:"30",alt:"info-icon",onClick:function(){return a(n)}})}),Object(Oe.jsx)(Ie.a,{placement:"left",delay:{show:250,hide:400},overlay:Object(Oe.jsx)(Ee.a,{children:"edit"}),children:Object(Oe.jsx)("img",{className:"action-button ml-4",src:"/images/edit.svg",width:"30",alt:"edit-icon",onClick:function(){return r(n)}})}),Object(Oe.jsx)(Ie.a,{placement:"left",delay:{show:250,hide:400},overlay:Object(Oe.jsx)(Ee.a,{children:"delete"}),children:Object(Oe.jsx)("img",{className:"action-button ml-4",src:"/images/delete.svg",width:"30",alt:"delete-icon",onClick:function(){return c(n)}})})]})})}function Ot(e){var t=e.menuName,n=e.structureData,a=e.dataByPk,r=e.showForm,c=e.setDataByPk,s=e.handleCloseForm,i=e.handleShowEdit,l=e.handleDelete,d=e.id,u=function(e,t,n,a){var r=Object(o.useState)(null),c=Object(p.a)(r,2),s=c[0],i=c[1],l=Object(o.useState)(!1),d=Object(p.a)(l,2),u=d[0],j=d[1],h=Object(o.useState)(null),b=Object(p.a)(h,2),m=b[0],f=b[1];return Object(o.useEffect)((function(){(null===n||void 0===n?void 0:n.id)===t?i(n):(j(!0),f(null),q.post("/".concat(e,"/").concat(t),{},{headers:{access_token:E()}}).then((function(e){i(e.data),a(e.data)})).catch((function(e){console.log(e),fe(null,f,e)})).finally((function(e){j(!1)})))}),[e]),{data:s,loading:u,error:m}}(t,d,a,c),j=u.data,h=u.loading,b=u.error;return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(Se.a,{show:r,onHide:s,backdrop:"static",keyboard:!1,centered:!0,className:"menu-form-modal",size:"lg",children:[Object(Oe.jsx)(Se.a.Header,{className:"menu-form-header",closeButton:!0,children:Object(Oe.jsxs)("div",{className:"title-container-form",children:[Object(Oe.jsx)(Se.a.Title,{className:"main-title-form",children:je(t,"-")}),Object(Oe.jsx)(Se.a.Title,{children:ue("info","-")})]})}),Object(Oe.jsx)(Se.a.Body,{className:"menu-form-body-info",children:Object(Oe.jsxs)(N.a,{fluid:!0,className:"add-edit-form-container",children:[Object(Oe.jsx)(ge,{error:b}),Object(Oe.jsx)(nt.a,{children:!j||h?Object(Oe.jsx)(ve,{}):n.map((function(e){if(e.xsI||e.smI||e.mdI||e.lgI||e.xlI)return Object(Oe.jsx)(et,{category:"info",element:j,obj:e},j.property)}))})]})}),Object(Oe.jsxs)(Se.a.Footer,{className:"info-footer",children:[Object(Oe.jsx)(Ie.a,{placement:"left",delay:{show:250,hide:400},overlay:Object(Oe.jsx)(Ee.a,{children:"edit"}),children:Object(Oe.jsx)("img",{className:"action-button ml-5",src:"/images/edit.svg",width:"30",alt:"edit-icon",onClick:function(){return i(d)}})}),Object(Oe.jsx)(Ie.a,{placement:"left",delay:{show:250,hide:400},overlay:Object(Oe.jsx)(Ee.a,{children:"delete"}),children:Object(Oe.jsx)("img",{className:"action-button ml-5",src:"/images/delete.svg",width:"30",alt:"delete-icon",onClick:function(){return l(d)}})}),Object(Oe.jsx)(Ie.a,{placement:"left",delay:{show:250,hide:400},overlay:Object(Oe.jsx)(Ee.a,{children:"back"}),children:Object(Oe.jsx)("img",{className:"action-button ml-5",src:"/images/back.svg",width:"30",alt:"back-icon",onClick:function(){return s()}})})]})]})})}function gt(e){var t=e.showForm,n=e.handleCloseForm;return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(Se.a,{show:t,onHide:n,backdrop:"static",keyboard:!1,centered:!0,className:"info-modal",size:"lg",children:[Object(Oe.jsxs)("div",{className:"info-modal-header modal-header",children:[Object(Oe.jsx)("h5",{className:"modal-title",style:{fontWeight:"bold"},id:"exampleModalLongTitle",children:"Welcome to Welder!"}),Object(Oe.jsx)("button",{type:"button",onClick:n,className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(Oe.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(Oe.jsxs)("div",{className:"info-modal-text-container",children:[Object(Oe.jsx)("h1",{className:"text-center mb-3",children:"Tech Stack"}),Object(Oe.jsxs)("div",{className:"card-deck row",id:"tech-stack-deck",children:[Object(Oe.jsx)("div",{className:"col-4",children:Object(Oe.jsxs)("div",{class:"tech-icon-container",children:[Object(Oe.jsx)("img",{className:"info-card-img",src:"/images/HTML5.svg",alt:"HTML5"}),Object(Oe.jsx)("div",{className:"info-card-body",children:Object(Oe.jsx)("h5",{className:"info-card-title card-title text-center",children:"HTML5"})})]})}),Object(Oe.jsx)("div",{className:"col-4",children:Object(Oe.jsxs)("div",{class:"tech-icon-container",children:[Object(Oe.jsx)("img",{className:"info-card-img",src:"/images/CSS3.svg",alt:"CSS3"}),Object(Oe.jsx)("div",{className:"info-card-body card-body",children:Object(Oe.jsx)("h5",{className:"info-card-title card-title text-center",children:"CSS3"})})]})}),Object(Oe.jsx)("div",{className:"col-4",children:Object(Oe.jsxs)("div",{class:"tech-icon-container",children:[Object(Oe.jsx)("img",{className:"info-card-img",src:"/images/ReactBootstrap.svg",alt:"ReactBootstrap"}),Object(Oe.jsx)("div",{className:"info-card-body card-body",children:Object(Oe.jsx)("h5",{className:"info-card-title card-title text-center",children:"React Bootstrap"})})]})}),Object(Oe.jsx)("div",{className:"col-4",children:Object(Oe.jsxs)("div",{class:"tech-icon-container",children:[Object(Oe.jsx)("img",{className:"info-card-img",src:"/images/React.svg",alt:"React"}),Object(Oe.jsx)("div",{className:"info-card-body card-body",children:Object(Oe.jsx)("h5",{className:"info-card-title card-title text-center",children:"React"})})]})}),Object(Oe.jsx)("div",{className:"col-4",children:Object(Oe.jsxs)("div",{class:"tech-icon-container",children:[Object(Oe.jsx)("img",{className:"info-card-img",src:"/images/Redux.svg",alt:"Redux"}),Object(Oe.jsx)("div",{className:"info-card-body card-body",children:Object(Oe.jsx)("h5",{className:"info-card-title card-title text-center",children:"Redux"})})]})}),Object(Oe.jsx)("div",{className:"col-4",children:Object(Oe.jsxs)("div",{class:"tech-icon-container",children:[Object(Oe.jsx)("img",{className:"info-card-img",src:"/images/Express.svg",alt:"Express"}),Object(Oe.jsx)("div",{className:"info-card-body card-body",children:Object(Oe.jsx)("h5",{className:"info-card-title card-title text-center",children:"Express"})})]})}),Object(Oe.jsx)("div",{className:"col-4",children:Object(Oe.jsxs)("div",{class:"tech-icon-container",children:[Object(Oe.jsx)("img",{className:"info-card-img",src:"/images/Sequelize.svg",alt:"Sequelize"}),Object(Oe.jsx)("div",{className:"info-card-body card-body",children:Object(Oe.jsx)("h5",{className:"info-card-title card-title text-center",children:"Sequelize"})})]})}),Object(Oe.jsx)("div",{className:"col-4",children:Object(Oe.jsxs)("div",{class:"tech-icon-container",children:[Object(Oe.jsx)("img",{className:"info-card-img",src:"/images/Node.js.svg",alt:"Node.js"}),Object(Oe.jsx)("div",{className:"info-card-body card-body",children:Object(Oe.jsx)("h5",{className:"info-card-title card-title text-center",children:"Node.js"})})]})}),Object(Oe.jsx)("div",{className:"col-4",children:Object(Oe.jsxs)("div",{class:"tech-icon-container",children:[Object(Oe.jsx)("img",{className:"info-card-img",src:"/images/PostgresSQL.svg",alt:"PostgresSQL"}),Object(Oe.jsx)("div",{className:"info-card-body card-body",children:Object(Oe.jsx)("h5",{className:"info-card-title card-title text-center",children:"PostgresSQL"})})]})}),Object(Oe.jsx)("div",{className:"col-4",children:Object(Oe.jsxs)("div",{class:"tech-icon-container",children:[Object(Oe.jsx)("img",{className:"info-card-img",src:"/images/JavaScript.svg",alt:"JavaScript"}),Object(Oe.jsx)("div",{className:"info-card-body card-body",children:Object(Oe.jsx)("h5",{className:"info-card-title card-title text-center",children:"JavaScript"})})]})})]}),Object(Oe.jsxs)("div",{className:"info-description description",children:[Object(Oe.jsx)("h2",{children:"Description"}),Object(Oe.jsx)("p",{children:"A web application for managing a welding business."}),Object(Oe.jsx)("h2",{children:"Github"}),Object(Oe.jsxs)("ul",{children:[Object(Oe.jsx)("li",{children:Object(Oe.jsx)("a",{href:"https://github.com/rdport/welder-client.git",children:"welder-client"})}),Object(Oe.jsx)("li",{children:Object(Oe.jsx)("a",{href:"https://github.com/rdport/welder-server.git",children:"welder-server"})})]}),Object(Oe.jsx)("h2",{children:"Features"}),Object(Oe.jsxs)("ul",{children:[Object(Oe.jsx)("li",{children:"Secure authentication using acces token stored in memory, with 1-hour validity, and refresh token stored in HTTPOnly cookie, with 1-day validity."}),Object(Oe.jsxs)("li",{children:["Users with standard class cannot access restricted contents, while those with master class have no limit.",Object(Oe.jsx)("br",{}),"For testing, use the following data which have been added to the database:",Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("p",{className:"mb-0",style:{fontWeight:"bold"},children:"Steven Rich"}),"email: stevenrich@mail.com",Object(Oe.jsx)("br",{}),"password: 1234567",Object(Oe.jsx)("br",{}),"class: master",Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("p",{className:"mb-0",style:{fontWeight:"bold"},children:"Eddy"}),"email: eddy@mail.com",Object(Oe.jsx)("br",{}),"password: 1234567",Object(Oe.jsx)("br",{}),"class: standard"]}),Object(Oe.jsx)("br",{}),Object(Oe.jsxs)("li",{children:["Drag and drop to rearrange items.",Object(Oe.jsx)("br",{}),"For testing purposes only, please go to Material Purchases, click the red button on the toolbar below the navbar to enable drag and drop based on PurchaseId. The purpose is to reorder the materials which appear in the Purchase section (the Purchase section is still in development)."]}),Object(Oe.jsx)("li",{children:"Create, edit and delete items in each section"}),Object(Oe.jsx)("li",{children:"Infinite scrolling limits API response to return only 20 items for each API call"}),Object(Oe.jsx)("li",{children:"Database transaction is used to ensure data integrity"}),Object(Oe.jsx)("li",{children:"Responsive design enables this website to adapt to the size of the screen"})]}),Object(Oe.jsx)("h2",{children:"P.S."}),Object(Oe.jsxs)("ul",{children:[Object(Oe.jsx)("li",{children:"This project is still in development, there are only two accessible sections, Customers and Material Purchases."}),Object(Oe.jsxs)("li",{children:['The backend of this project has been completed and can be tested using REST Client from VS Code by using a file named "request.rest" provided in ',Object(Oe.jsx)("a",{href:"https://github.com/rdport/welder-server",children:"welder-server"})," on github."]}),Object(Oe.jsx)("li",{children:"This project is using free tier hosting so this website might not be always accessible."})]})]})]}),Object(Oe.jsx)(Se.a.Footer,{children:Object(Oe.jsx)(C.a,{variant:"info",onClick:n,children:"Close"})})]})})}function xt(){var e=W(),t=Object(h.g)().path,n=Object(h.f)(),a=Object(j.c)(),r=Object(o.useState)(null),c=Object(p.a)(r,2),s=c[0],l=c[1],d=Object(o.useState)(null),u=Object(p.a)(d,2),b=u[0],F=u[1],S=Object(j.d)((function(e){return e.authReducer})),L=S.authLoading,E=S.authError,R=Object(o.useState)({}),P=Object(p.a)(R,2),T=P[0],D=P[1],B=Object(o.useState)(!1),A=Object(p.a)(B,2),M=A[0],V=A[1],H=Object(o.useState)(!0),_=Object(p.a)(H,2),J=_[0],Y=_[1],Q=["Session expired","Network Error","Internal Server Error"];function X(e){var t={};t[e]=!0,D(t)}function Z(){a(K(null)),l(null),F(null),a(z(!1))}function ee(){return(ee=Object(f.a)(m.a.mark((function e(t){var r,c,s,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(null),a(z(!0)),e.next=5,q.post("/admins/login",t);case 5:r=e.sent,c=r.data,s=c.accessToken,i=c.class,o=c.fullName,I({accessToken:s,adminClassName:i,adminFullName:o}),a(z(!1)),a(U(!0)),Z(),n.push("/"),G("Logged In!","Welcome!","success"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),Z(),fe(l,F,e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}return Object(o.useEffect)((function(){a(O(t)),a(g("Login")),a(y(!1)),i=t,a(x(!1)),a(v(!1)),e&&n.push("/")}),[e]),Object(o.useEffect)((function(){V(!0)}),[L]),!e&&L?Object(Oe.jsx)(ve,{}):M?Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(N.a,{className:"login-page",children:Object(Oe.jsx)(N.a,{className:"shadow login-form-background",children:Object(Oe.jsxs)(N.a,{className:"login-form-container",children:[Object(Oe.jsxs)("div",{className:"text-center",children:[Object(Oe.jsx)("img",{src:"/images/rdia.svg",className:"login-logo",alt:"phoenix-company-logo",width:"150",height:"150"}),Object(Oe.jsx)("div",{class:"login-image-container",children:Object(Oe.jsx)("img",{class:"",src:"/images/Welder-white.svg",alt:"welder",width:"150"})})]}),Object(Oe.jsx)(w.a,{className:"shadow login-form-card",children:Object(Oe.jsx)(it.a,{validationSchema:re($),onSubmit:function(e){return function(e){return ee.apply(this,arguments)}(e)},initialValues:{email:"",password:""},children:function(e){var t=e.handleSubmit,n=e.handleChange,a=(e.handleBlur,e.values),r=e.touched,c=(e.isValid,e.errors);return Object(Oe.jsxs)(k.a,{noValidate:!0,onSubmit:t,children:[Object(Oe.jsx)(ut,{onChange:Z}),Object(Oe.jsxs)(k.a.Group,{children:[Object(Oe.jsx)(k.a.Label,{children:"Email address"}),Object(Oe.jsx)(k.a.Control,{type:"email",placeholder:"Enter email",name:"email",value:a.email,onChange:n,isInvalid:r.email&&!!c.email,style:s?te(T.email):{},onFocus:function(){return X("email")}}),Object(Oe.jsx)(k.a.Control.Feedback,{type:"invalid",children:c.email})]}),Object(Oe.jsxs)(k.a.Group,{className:"mb-0",children:[Object(Oe.jsx)(k.a.Label,{children:"Password"}),Object(Oe.jsx)(k.a.Control,{type:"password",placeholder:"Password",name:"password",value:a.password,onChange:n,isInvalid:r.email&&!!c.password,style:s?te(T.password):{},onFocus:function(){return X("password")}}),Object(Oe.jsx)(k.a.Control.Feedback,{type:"invalid",children:c.password})]}),(s||b||Q.includes(E))&&Object(Oe.jsx)(k.a.Text,{className:"text-danger mt-3 mb-0",children:s||(b||E)}),Object(Oe.jsx)(C.a,{className:"login-btn mt-3",variant:"primary",type:"submit",onClick:Z,children:"Sign In"})]})}})})]})})}),Object(Oe.jsx)(gt,{showForm:J,handleCloseForm:function(){Y(!1)}})]}):Object(Oe.jsx)(ve,{})}function vt(){var e=W(),t=Object(h.g)().path,n=Object(j.c)(),a=Object(o.useState)([]),r=Object(p.a)(a,2),c=r[0],s=r[1],i=Object(o.useState)(R()),l=Object(p.a)(i,2),d=l[0],u=l[1],b=Object(o.useState)(!0),m=Object(p.a)(b,2),f=m[0],w=m[1],k=Object(j.d)((function(e){return e.authReducer})),C=k.isAuthenticatedRedux,F=k.authError,S=Object(j.d)((function(e){return e.searchReducer})).term;return Object(o.useEffect)((function(){window.scrollTo(0,0),n(O(t)),n(g("Home")),n(y(!1)),n(x(!1)),n(v(!1)),w(!1)}),[]),Object(o.useEffect)((function(){u(R())}),[C]),Object(o.useEffect)((function(){if(""!==S.trim()){var e=X.filter((function(e){if("master"===d){if(ue(e.name,"-").toLowerCase().includes(S.toLowerCase()))return e}else if("standard"===d&&ue(e.name,"-").toLowerCase().includes(S.toLowerCase())&&"standard"===e.class)return e}));s(e)}else{var t=[];"master"===d?t=X:"standard"===d&&(t=X.filter((function(e){if(!e.restricted)return e}))),s(t)}}),[S,d]),!e||f?Object(Oe.jsx)(ve,{}):Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(ge,{authError:F}),0===c.length?Object(Oe.jsx)(Ne,{text:"No results"}):Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(N.a,{fluid:!0,className:"mt-4 mb-3",children:Object(Oe.jsx)(nt.a,{xs:2,sm:4,lg:5,className:"e-col-row-home",children:c.map((function(e){return Object(Oe.jsx)(Ze,{menu:e},e.name)}))})})})]})}var yt=n(25);var Nt=function(e){var t=Object(j.c)(),n=Object(o.useState)([]),a=Object(p.a)(n,2),r=a[0],c=a[1],s=Object(o.useState)(0),i=Object(p.a)(s,2),l=i[0],d=i[1],u=Object(o.useState)(!1),h=Object(p.a)(u,2),b=h[0],m=h[1],f=Object(o.useState)(null),O=Object(p.a)(f,2),g=O[0],x=O[1],v=Object(o.useState)(!1),y=Object(p.a)(v,2),N=y[0],w=y[1],k=Object(o.useState)(!1),C=Object(p.a)(k,2),F=(C[0],C[1],Object(j.d)((function(e){return e.authReducer})).isAuthenticatedRedux),S=Object(j.d)((function(e){return e.searchReducer})),L=S.term,I=S.key,R=S.year,P=S.month,T=S.day,D=S.order,B=S.page,A=S.limit,M=S.isPressed,V=Object(j.d)((function(e){return e.formReducer})),H=V.isDatabaseChanged,_=V.isRearrangeMode,z=Object(j.d)((function(e){return e.pathReducer})),U=z.path,K=(dt(z.component),dt(U)),W=dt(B),J=dt(L),Y=dt(D),G=(dt(M),dt(H),dt(F),""===R&&""===P&&""===T),Q={};function $(){if(K!==U&&(t(Te(!1)),t(ze(!1)),We()),m(!0),x(null),_&&K===U){var n=Je();n.dragKey&&(Q.idname=n.dragKey),L?Q.id=L:n.dragKeyValue&&(Q.id=n.dragKeyValue),Q.orderBy="orderIndex",Q.order="ASC"}else K!==U?(Q.page=1,Q.limit=20):(Q.page=B,Q.limit=A,L.trim().length&&(Q.term=L),I.trim().length&&(L.trim().length||R.trim().length||P.trim().length||T.trim().length)&&(Q.key=I),R.trim().length&&(Q.year=R),P.trim().length&&(Q.month=P),T.trim().length&&(Q.day=T),D.trim().length&&(Q.order=D));q.post("/".concat(e),{},{headers:{access_token:E()},params:Q}).then((function(e){_?c(e.data.results):(c((function(t){return[].concat(Object(yt.a)(t),Object(yt.a)(e.data.results))})),w(void 0!==e.data.next)),d(e.data.totalResults)})).catch((function(e){fe(null,x,e)})).finally((function(e){m(!1),t(qe(!1)),t(Pe(!1))}))}return Object(o.useEffect)((function(){E()&&F&&(M||H)&&(c([]),t(_e(1)),(H&&W===B&&""===L&&""===D&&G||M&&W===B&&B&&""===L&&""===D&&G||_)&&$())}),[M,H]),Object(o.useEffect)((function(){(W>B||W<B)&&(W>B&&c([]),$())}),[B]),Object(o.useEffect)((function(){E()&&F&&(c([]),t(_e(1)),(K!==U&&W===B&&""===L&&""===D||(J!==L||Y!==D)&&W===B||F&&K===U)&&$())}),[L,D,U,F]),{data:r,totalResults:l,loading:b,error:g,hasMore:N}},wt=n(97);function kt(e){var t=e.menuName,n=e.restricted,a=W(),r=Object(h.g)().path,c=Object(j.c)(),s=Object(o.useState)(""),i=Object(p.a)(s,2),l=i[0],d=i[1],u=Object(o.useState)([]),b=Object(p.a)(u,2),N=b[0],w=b[1],k=Object(j.d)((function(e){return e.searchReducer})),C=k.page,F=k.limit,S=Object(j.d)((function(e){return e.authReducer})),L=S.authLoading,I=S.isAuthenticatedRedux,P=S.authError,T=Object(j.d)((function(e){return e.pathReducer})),D=T.component,B=T.isForbidden,A=T.isSameComponent,M=Object(j.d)((function(e){return e.formReducer})),V=M.isDatabaseChanged,H=M.isRearrangeMode,_=Object(j.d)((function(e){return e.searchReducer})).noSearchBar,z=Nt(t,r),U=z.data,K=z.totalResults,J=z.loading,Y=z.error,G=(z.hasMore,Object(o.useState)(null)),$=Object(p.a)(G,2),X=$[0],ee=$[1],te=Object(o.useState)(null),ne=Object(p.a)(te,2),re=ne[0],ce=ne[1],se=Object(o.useState)(!1),ie=Object(p.a)(se,2),oe=ie[0],le=ie[1],de=Object(o.useState)(!1),je=Object(p.a)(de,2),he=je[0],be=je[1],me=Object(o.useState)(null),pe=Object(p.a)(me,2),xe=pe[0],ye=pe[1],we=Object(o.useState)(!1),ke=Object(p.a)(we,2),Ce=ke[0],Fe=ke[1],Se=Object(o.useState)(null),Le=Object(p.a)(Se,2),Ie=Le[0],Ee=Le[1],Re=Object(o.useState)(!1),Te=Object(p.a)(Re,2),De=Te[0],Be=Te[1],Ae=Object(o.useState)(!1),Me=Object(p.a)(Ae,2),Ve=Me[0],He=Me[1],qe=dt(r),ze=function(e){ce(e),le(!0)},Ue=function(){return le(!1)},Ke=function(e){ce(e),be(!0)},We=function(e){ce(e),Fe(!0)},Ye=function e(){var t=document.documentElement,n=t.scrollHeight-t.clientHeight;t.scrollTop/n>.99&&(c(_e(C+1)),He(!0),document.removeEventListener("scroll",e))},Ge=function(){var e=Object(f.a)(m.a.mark((function e(n){var a,r,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.destination&&n.destination.index!==n.source.index){e.next=3;break}return e.abrupt("return");case 3:return a=Je(),r=a.dragKeyValue,s={sourceIndex:n.source.index,destinationIndex:n.destination.index,id:r},e.next=7,q.patch("/".concat(t,"/").concat(n.draggableId),s,{headers:{access_token:E()}});case 7:c(Pe(!0)),ee(null),ye(null),Q("Data updated","success"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),fe(null,ye,e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Qe=function(e,t){return Object(Oe.jsx)(pt,{position:e,id:t,handleShowInfo:ze,handleShowEdit:Ke,handleShowDeleteConfirm:We})};return Object(o.useEffect)((function(){H||ye(null)}),[H]),Object(o.useEffect)((function(){window.scrollTo(0,0),c(O(r)),c(g("MenuHome")),c(y(!1)),c(x(!1)),c(v(!1)),n&&"master"!==R()&&c(x(!0)),w(ae(t,"structureData"))}),[r,l]),Object(o.useEffect)((function(){V||H||window.scrollTo(0,0)}),[V]),Object(o.useEffect)((function(){I&&(d(R()),window.scrollTo(0,0))}),[I]),Object(o.useEffect)((function(){J||(C*F<K?document.addEventListener("scroll",Ye):document.removeEventListener("scroll",Ye),He(!1))}),[J]),Object(o.useEffect)((function(){"MenuHome"!==D||L||J||qe!==r||Be(!0)}),[L,J]),B&&!L?Object(Oe.jsx)(Ft,{title:Z.forbidden.title,src:Z.forbidden.src,alt:Z.forbidden.alt,width:Z.forbidden.width,messages:Z.forbidden.messages}):!I||!a||L||"MenuHome"!==D&&!A||"MenuHome"===D&&A?Object(Oe.jsx)(ve,{}):De?Object(Oe.jsxs)("div",{className:_?"no-search-bar-menu-home-container":void 0,children:[(Y||P||xe||Ie)&&Object(Oe.jsx)(ge,{error:Y||xe||Ie,authError:P}),Object(Oe.jsx)("h3",{className:"text-center text-light mt-3",children:ue(t,"-")}),(null===U||void 0===U?void 0:U.length)||J||L||"MenuHome"!==D?!Ve&&J?Object(Oe.jsx)(ve,{}):Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)("div",{className:"table-container",children:[0!==K&&Object(Oe.jsx)("h6",{className:"ml-3 font-weight-bold text-white",children:"".concat(K,1===K?" result":" results")}),Object(Oe.jsx)(rt,{structureData:N}),!H&&U.map((function(e,t){return Object(Oe.jsx)(at,{structureData:N,element:e,index:t,actionComponent:Qe},e.id)})),J&&1!==C&&!H&&Object(Oe.jsx)(ve,{className:"spinner-container-infinite-loading"}),H&&Object(Oe.jsx)(wt.a,{onDragEnd:Ge,children:Object(Oe.jsx)(wt.c,{droppableId:"table-droppable",children:function(e){return Object(Oe.jsxs)("div",Object(tt.a)(Object(tt.a)({},e.droppableProps),{},{ref:e.innerRef,children:[U.map((function(e,t){return Object(Oe.jsx)(wt.b,{draggableId:"".concat(e.id),index:e.orderIndex,children:function(n){return Object(Oe.jsx)(at,{innerRef:n.innerRef,provided:n,structureData:N,element:e,index:t,actionComponent:Qe})}},e.id)})),e.placeholder]}))}})})]}),oe&&Object(Oe.jsx)(Ot,{menuName:t,structureData:N,showForm:oe,dataByPk:X,setDataByPk:ee,handleCloseForm:Ue,handleShowEdit:Ke,handleDelete:We,id:re}),he&&Object(Oe.jsx)(jt,{type:"edit",menuName:t,structureData:N,dataByPk:X,showForm:he,setDataByPk:ee,handleCloseForm:function(){return be(!1)},handleCloseInfo:Ue,setError:ye,id:re}),Ce&&Object(Oe.jsx)(ht,{menuName:t,show:Ce,handleCloseForm:function(){return Fe(!1)},handleCloseInfo:Ue,setError:Ee,id:re})]}):Object(Oe.jsx)(Ne,{text:"No results"})]}):Object(Oe.jsx)(ve,{})}function Ct(e){var t=e.restricted,n=e.menuName,a=(W(),Object(h.g)().path),r=Object(j.c)(),c=Object(o.useState)(""),s=Object(p.a)(c,2),i=s[0],l=s[1],d=Object(j.d)((function(e){return e.authReducer})),u=(d.authLoading,d.isAuthenticatedRedux);d.authError;return Object(o.useEffect)((function(){window.scrollTo(0,0),r(O(a)),r(g("DetailPage")),r(y(!1)),r(x(!1)),r(v(!1)),t&&"master"!==R()&&r(x(!0))}),[a,i]),Object(o.useEffect)((function(){u&&l(R())}),[u]),Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)("div",{className:"detail-page",children:[Object(Oe.jsx)("div",{className:"d-flex justify-content-center",children:Object(Oe.jsx)("h3",{className:"title-detail",children:je(n,"-")})}),Object(Oe.jsx)("div",{className:"container d-flex justify-content-center mt-4",children:Object(Oe.jsx)("img",{className:"",style:{borderRadius:"1rem"},src:"/images/under-construction.gif",width:300})})]})})}function Ft(e){var t=e.title,n=e.messages,a=e.src,r=e.alt,c=e.width,s=(W(),Object(j.c)());return Object(o.useEffect)((function(){s(g("ErrorPage")),s(y(!1)),"Page Not Found"===t&&s(v(!0))}),[]),Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(N.a,{fluid:!0,className:"error-page-container",children:[Object(Oe.jsx)("h1",{className:"mt-5 text-light",children:"Oops!"}),Object(Oe.jsx)("h1",{className:"text-light",children:t}),Object(Oe.jsx)("img",{className:"mt-5 mb-5",src:a,alt:r,width:c}),n.map((function(e){return Object(Oe.jsx)("h5",{className:"text-light",children:e},e)}))]})})}var St=function(){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Le,{}),Object(Oe.jsx)(Ye,{}),Object(Oe.jsx)($e,{}),Object(Oe.jsxs)(h.c,{children:[X.map((function(e){if(e.hasDetailPage)return Object(Oe.jsx)(h.a,{path:"/".concat(e.name,"/:id"),children:Object(Oe.jsx)(Ct,{restricted:e.restricted,menuName:e.name})},e.name)})),X.map((function(e){return Object(Oe.jsx)(h.a,{path:"/".concat(e.name),children:Object(Oe.jsx)(kt,{restricted:e.restricted,menuName:e.name})},e.name)})),Object(Oe.jsx)(h.a,{path:"/login",children:Object(Oe.jsx)(xt,{})}),Object(Oe.jsx)(h.a,{exact:!0,path:"/",children:Object(Oe.jsx)(vt,{})}),Object(Oe.jsx)(h.a,{path:"*",children:Object(Oe.jsx)(Ft,{title:Z.notFound.title,src:Z.notFound.src,alt:Z.notFound.alt,width:Z.notFound.width,messages:Z.notFound.messages})})]})]})},Lt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,300)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},It=n(31),Et=n(153),Rt={authLoading:!1,isAuthenticatedRedux:!1,authError:null};var Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/setAuthLoading":return Object(tt.a)(Object(tt.a)({},e),{},{authLoading:t.authLoading});case"auth/setIsAuthenticatedRedux":return Object(tt.a)(Object(tt.a)({},e),{},{isAuthenticatedRedux:t.isAuthenticatedRedux});case"auth/setAuthError":return Object(tt.a)(Object(tt.a)({},e),{},{authError:t.authError});case"auth/setShowAuthError":return Object(tt.a)(Object(tt.a)({},e),{},{showAuthError:t.showAuthError});default:return e}},Tt={path:"",component:"",isForbidden:!1,isNotFound:!1,isNavPathChanged:!1,isSameComponent:!1};var Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"path/setPath":return Object(tt.a)(Object(tt.a)({},e),{},{path:t.path});case"path/setComponent":return Object(tt.a)(Object(tt.a)({},e),{},{component:t.component});case"path/setIsForbidden":return Object(tt.a)(Object(tt.a)({},e),{},{isForbidden:t.isForbidden});case"path/setIsNotFound":return Object(tt.a)(Object(tt.a)({},e),{},{isNotFound:t.isNotFound});case"path/setIsNavPathChanged":return Object(tt.a)(Object(tt.a)({},e),{},{isNavPathChanged:t.isNavPathChanged});case"path/setIsSameComponent":return Object(tt.a)(Object(tt.a)({},e),{},{isSameComponent:t.isSameComponent});default:return e}},Bt={term:"",key:"",year:"",month:"",day:"",order:"",page:1,limit:20,isPressed:!1,noSearchBar:!1};var At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"search/setTerm":return Object(tt.a)(Object(tt.a)({},e),{},{term:t.term});case"search/setKey":return Object(tt.a)(Object(tt.a)({},e),{},{key:t.key});case"search/setYear":return Object(tt.a)(Object(tt.a)({},e),{},{year:t.year});case"search/setMonth":return Object(tt.a)(Object(tt.a)({},e),{},{month:t.month});case"search/setDay":return Object(tt.a)(Object(tt.a)({},e),{},{day:t.day});case"search/setOrder":return Object(tt.a)(Object(tt.a)({},e),{},{order:t.order});case"search/setPage":return Object(tt.a)(Object(tt.a)({},e),{},{page:t.page});case"search/setIsPressed":return Object(tt.a)(Object(tt.a)({},e),{},{isPressed:t.isPressed});case"search/setNoSearchBar":return Object(tt.a)(Object(tt.a)({},e),{},{noSearchBar:t.noSearchBar});default:return e}},Mt={isDatabaseChanged:!1,isRearrangeMode:!1};var Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"form/setIsDatabaseChanged":return Object(tt.a)(Object(tt.a)({},e),{},{isDatabaseChanged:t.isDatabaseChanged});case"form/setIsRearrangeMode":return Object(tt.a)(Object(tt.a)({},e),{},{isRearrangeMode:t.isRearrangeMode});default:return e}},Ht={showSrollIcon:!1};var _t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"toolbar/setShowScrollIcon":return Object(tt.a)(Object(tt.a)({},e),{},{showScrollIcon:t.showScrollIcon});default:return e}},qt=Object(It.c)({authReducer:Pt,pathReducer:Dt,searchReducer:At,formReducer:Vt,toolbarReducer:_t}),zt=Object(It.e)(qt,Object(It.a)(Et.a));n(281),n(282);u.a.render(Object(Oe.jsx)(l.a.StrictMode,{children:Object(Oe.jsx)(j.a,{store:zt,children:Object(Oe.jsx)(we.a,{children:Object(Oe.jsx)(St,{})})})}),document.getElementById("root")),Lt()}},[[283,1,2]]]);
//# sourceMappingURL=main.0036e5a7.chunk.js.map